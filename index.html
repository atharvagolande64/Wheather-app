<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Application</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">


</head>
<body>

<h1 class="text-center mt-3">Weather Application</h1>

<div class="container w-25 mx-auto mt-4 text-center">

    <input type="text" id="inputCity" class="form-control" placeholder="Enter city name">
    <br>

    <button id="btnWeather" class="btn btn-primary">Submit</button>

    <div id="result" class="mt-3"></div>

</div>

<img src="./" class="heroSecImg">


<script>

    function renderData(d) {

        if (d.cod != 200) {
            document.querySelector("#result").innerHTML =
                "<p class='text-danger'>City not found</p>";
            return;
        }

        document.querySelector("#result").innerHTML = `
            <h3>${d.name} <span>${d.sys.country}</span></h3>
            <p class="lead">Temp : ${d.main.temp} Â°C</p>
            <p class="lead">${d.weather[0].main} : ${d.weather[0].description}</p>
        `;
    }

    function getData() {

        var cityInput = document.querySelector("#inputCity").value;

        if (cityInput == "") {
            document.querySelector("#result").innerHTML =
                "<p class='text-danger'>Please enter city name</p>";
            return;
        }

        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityInput}&units=metric&appid=ca018df54353f065aaed7d802825b8be`)
            .then(function(res) {
                return res.json();
            })
            .then(function(data) {
                renderData(data);
            })
            .catch(function(err) {
                console.log(err);
            });
    }

    document.querySelector("#btnWeather").addEventListener("click", getData);

</script>

</body>
</html>
